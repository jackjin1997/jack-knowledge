# 面试复盘记录

基于你的面试记录整理，包含问题、回答要点、改进建议。

---

## 一、面试整体情况

- **结果**：还会有后续面试
- **目标岗位**：游戏事业部（独立）- 中台服务 - AI工具深度定制、Agent服务
- **岗位职责**：服务于内部效率、创意落地

---

## 二、项目背景介绍

### 三个项目线

| 项目 | 定位 | 时间段 |
|------|------|--------|
| 类n8n低代码平台 | 工作流编排 + AI结合 | GPT3.5时代 |
| 微服务框架 | 基础设施 | 2024 |
| 多智能体系统 | 旅行规划AI Agent | 2024-2025 |

---

## 三、类n8n项目 深度问答

### Q1: 和AI的结合方式？

**回答要点**：
- 录制插件：录制用户操作生成工作流
- 执行插件：执行工作流步骤
- 具体场景的业务逻辑：JSON Mode

### Q2: 和AI对话的具体关系？

**回答要点**：
- AI智能匹配：自然语言输入匹配工作流
- AI路由决策：条件节点的智能判断
- 向量数据库：工作流/脚本的语义搜索

### Q3: 脚本库有哪些内容？

**回答要点**：
- 向量数据库集成
- 浏览器Tool（Puppeteer）
- 各种业务脚本（workflow定义）

### Q4: 权限问题？

**回答要点**：
- Debugger模式
- 多租户RBAC权限

### Q5: 遇到了什么问题？（重点）

#### 问题1：复杂逻辑中间件重构

**原问题**：没有复杂的逻辑中间件，if/for条件判断

**解决方案**：多重链表结构

**技术细节**：
```
原始设计：线性工作流
    ↓
新设计：多重链表
├── 数据模型前后端共享
├── 子链表执行方式
│   ├── 回退机制
│   ├── if/for实现（子链表执行前的判断逻辑，动态插入）
│   └── 性能问题 → 仿照Node.js异步处理
```

#### 问题2：消息队列

**解决方案**：
- MQTT消息队列
- Schedule调度
- Step拆分（粒度控制）

#### 问题3：组件化

**解决方案**：Component组件化设计

---

## 四、多智能体项目 深度问答（重点）

### Q1: 多智能体干什么用的？

**回答要点**：
- Supervisor模式
- 多层次多专家
- 责任分离

### Q2: 业务场景？

**回答要点**：
- 跨国旅行规划
- Review评估
- Eval评测

**改进建议**：聊了过多技术，下次可以快速了解业务需求后再深入技术

### Q3: API对接（被追问很多次）

| 追问 | 回答 |
|------|------|
| 怎么对接这么多API？ | 统一封装（PMP模式） |
| 再问：怎么对接的？ | 两层调度 + 自建缓存库 |
| 再问：是手动对接吗？ | 谈合作、商务对接 |
| 一共对了多少API？ | 十个左右 |
| 假设越来越多怎么办？ | **AI + 专家Skill**（答得好，对方似乎不懂） |

### Q4: 限流、Token问题

**回答（答得好）**：
- 框架层面：etcd环境变量动态更新
- Fallback机制

**遗漏点**：漏答了某个点（记录不完整）

### Q5: 生产环境问题

#### 问题1：LLM模型服务不稳定

**解决方案**：
```
├── 上下文精简（减少Token）
├── Fallback（多模型交替）
└── Long-term Memory（长期记忆）
```

#### 问题2：LangChain相关

**回答要点**：
- 一开始没用框架的踩坑经历
- LangSmith / OpenTelemetry
  - 全链路追踪、Bug排查
  - Prompt集中管理
- 单元测试（待改进）

#### 问题3：国际化时间问题

**解决方案**：模型相对时间推理

#### 问题4：Prompt Cache

**回答要点**：Claude的Prompt Cache特性

### Q6: LangGraph vs LangChain

**回答（答得好）**：
```
早期：
- LangChain：底层封装
- LangGraph：更便利的创建方式

架构区别：
- 包的区别
- @langchain → @langgraph → langchain主包
- LangSmith是扩展包

关键点：createReactAgent 从 LangChain 移动到 LangGraph
```

---

## 五、工程化问答

### Q1: 服务稳定性

**回答要点**：
- 服务端监听错误（catch掉）
- 技术推动的优雅停机机制
- LangSmith Daily Check

### Q2: 容器化部署

#### 优雅停机（答得好，可以多聊）

```
实现方式：
1. 框架监听并记录HTTP请求
2. 所有流量结束后（K8s关闭信号）→ 截断
3. 两个时间配置：
   - 超时时间（单个请求）
   - 总时间（整体等待）
4. 监听系统事件（SIGTERM等）
```

#### 灰度部署

（可以补充）

### Q3: 角色定位

**面试官提醒**：
> 如果决定说自己是领导角色，可以坚定一点。经验来讲容易可信度不高，要圆一下，比如来公司第几年变成的。

### Q4: 全链路追踪

**回答要点**：
```
微服务层面：
├── OpenTelemetry
├── Datadog
└── Grafana

LangChain层面：
├── HTTP Header包裹字段
└── LangSmith
```

### Q5: 服务监控

**回答要点**：
```
监控指标：
├── 接口请求次数
├── 成功/失败率
└── 时长

采集方式：
├── 与优雅停机相同的Hook机制

上报方式：
├── Logger
├── Grafana
└── ClickHouse
```

---

## 六、亮点回答总结

### 答得好的点 ✅

| 问题 | 亮点回答 |
|------|----------|
| API越来越多怎么办？ | AI + 专家Skill（对方似乎不懂，说明超出预期） |
| 限流Token问题 | etcd环境变量动态更新（对方似乎不懂） |
| LangGraph vs LangChain | createReactAgent移动、包结构区别 |
| 优雅停机 | 完整的实现细节 |

### 需要改进的点 ⚠️

| 问题 | 改进建议 |
|------|----------|
| 业务介绍 | 先快速介绍业务再深入技术，避免聊太多技术 |
| 领导角色 | 说得更坚定，补充时间线（第几年晋升） |
| Fallback | 有遗漏点，需要补充完整 |
| 单元测试 | 可以加强这部分的准备 |

---

## 七、后续面试准备建议

### 1. 针对游戏事业部岗位特点

- AI工具深度定制 → 强调你的框架设计能力
- Agent服务 → 强调多Agent系统经验
- 内部效率 → 强调低代码平台提效60%的经验
- 创意落地 → 可以聊AI辅助创意的想法

### 2. 可能的深入问题

基于这次面试，后续可能会问：

1. **LangChain/LLM的想法看法**（面试官提到）
2. **持久化、记忆**（面试官提到）
3. **游戏场景的AI应用**
4. **团队协作、跨部门沟通**

### 3. 准备要点

#### 持久化和记忆（面试官关注）

```
短期记忆：
├── 对话上下文
├── Checkpoint机制
└── 状态管理

长期记忆：
├── 向量数据库
├── 用户画像
└── 历史行为

持久化：
├── PostgreSQL存储Checkpoint
├── Redis缓存热数据
└── 对话摘要压缩
```

#### 对LangChain/LLM的看法（准备回答）

```
LangChain：
├── 优点：生态丰富、社区活跃、迭代快
├── 缺点：API变化快、学习曲线
├── 趋势：LangGraph成为主流、Agent框架

LLM发展趋势：
├── 多模态（Claude支持图片）
├── 更长上下文
├── 更便宜的推理成本
├── Agent能力增强
```

---

## 八、关键数据准备

确保这些数据能脱口而出：

| 数据 | 数值 | 来源 |
|------|------|------|
| API对接数量 | 10个左右 | 已回答 |
| 行程规划准确率 | 85%+ | 简历 |
| 用户满意度 | 90%+ | 简历 |
| 流程执行效率提升 | 60% | 简历 |
| 开发周期缩短 | 70%（2周→3天） | 简历 |
| 框架代码量 | <5000行 | 简历 |
| SQL优化效果 | 90%（10倍提升） | 简历 |
| 日均流程执行 | 10000+ | 简历 |

---

## 九、面试官关注点分析

从追问模式看，面试官关注：

1. **实际落地能力**：API对接、生产问题、工程化
2. **技术深度**：LangGraph架构、状态管理
3. **解决问题能力**：遇到问题怎么解决
4. **领导力**：角色定位、团队管理

### 下次面试可以主动提的点

1. 开源贡献（LangChain Contributor）- 展示技术深度
2. 从零设计微服务框架 - 展示架构能力
3. 技术推动的优雅停机 - 展示主动性
4. 具体的性能优化数据 - 展示结果导向
